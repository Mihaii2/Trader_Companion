2025-02-09 03:35:49,433 - INFO - Starting pipeline run. Logs will be saved to: C:\Users\Victus\PycharmProjects\Stocks_Screener_V2\flask_microservice_stocks_filterer\stocks_filtering_application\logs\last_run.log
2025-02-09 03:35:49,438 - INFO - Pipeline arguments: Namespace(price_increase=200.0, ranking_method='price', fetch_data=False, top_n=100, sleep_after=False, obligatory_screens=['above_52week_low', 'trending_up', 'close_to_52week_high', 'minimum_volume_100k', 'minimum_price_increase'], ranking_screens=['annual_EPS_acceleration', 'annual_margin_acceleration', 'annual_sales_acceleration', 'quarterly_EPS_acceleration', 'quarterly_eps_breakout', 'quarterly_margin_acceleration', 'quarterly_sales_acceleration', 'rs_over_70', 'rsi_trending_up', 'volume_acceleration', 'price_spikes', 'top_price_increases_1y'], skip_obligatory=False, skip_sentiment=False)
2025-02-09 03:35:49,440 - INFO - Finding and deleting old CSV files...
2025-02-09 03:35:49,440 - INFO - Found 14 CSV files to delete
2025-02-09 03:35:49,440 - INFO - Deleting: above_52week_low.csv
2025-02-09 03:35:49,440 - INFO - Deleting: close_to_52week_high.csv
2025-02-09 03:35:49,440 - INFO - Deleting: minimum_price_increase.csv
2025-02-09 03:35:49,440 - INFO - Deleting: minimum_volume_100k.csv
2025-02-09 03:35:49,441 - INFO - Deleting: obligatory_passed_stocks.csv
2025-02-09 03:35:49,441 - INFO - Deleting: trending_up_stocks.csv
2025-02-09 03:35:49,441 - INFO - Deleting: 52week_high_1_days.csv
2025-02-09 03:35:49,441 - INFO - Deleting: 52week_high_2_weeks.csv
2025-02-09 03:35:49,441 - INFO - Deleting: 52week_low_1_days.csv
2025-02-09 03:35:49,441 - INFO - Deleting: 52week_low_2_weeks.csv
2025-02-09 03:35:49,441 - INFO - Deleting: rsi_over_70.csv
2025-02-09 03:35:49,442 - INFO - Deleting: rsi_trending_down_stocks.csv
2025-02-09 03:35:49,442 - INFO - Deleting: rsi_trending_up_stocks.csv
2025-02-09 03:35:49,442 - INFO - Deleting: rsi_under_30.csv
2025-02-09 03:35:49,442 - INFO - 
Skipping data fetch, using existing data...
2025-02-09 03:35:49,442 - INFO - 
Running obligatory screen scripts...
2025-02-09 03:35:49,442 - INFO - 
Running obligatory screens...
2025-02-09 03:35:51,945 - INFO - [minimum_price_increase.py]: Error processing row 328949: could not convert string to float: ''
2025-02-09 03:36:03,124 - INFO - [trending_up.py]: Trending up analysis complete. Saved 3042 symbols to ./obligatory_screens/results/trending_up_stocks.csv
2025-02-09 03:36:16,084 - INFO - [minimum_volume_100k.py]: Min Volume Processing complete. 5472 stocks met the criteria.
2025-02-09 03:36:17,603 - INFO - [close_to_52week_high.py]: Close to 52-week high analysis complete. 7596 stocks meeting the criteria have been saved to ./obligatory_screens/results/close_to_52week_high.csv.
2025-02-09 03:36:17,603 - INFO - [close_to_52week_high.py]: Skipped 1 rows due to missing or invalid data.
2025-02-09 03:36:18,088 - INFO - [above_52week_low.py]: Above 52 week low analysis complete. 3845 stocks meeting the criteria have been saved to ./obligatory_screens/results/above_52week_low.csv.
2025-02-09 03:36:18,088 - INFO - [above_52week_low.py]: Skipped 1 rows due to missing or invalid data.
2025-02-09 03:36:19,886 - INFO - [minimum_price_increase.py]: Analysis complete. 1710 stocks with minimum 200.0% increase have been saved to ./obligatory_screens/results/minimum_price_increase.csv.
2025-02-09 03:36:19,886 - INFO - [minimum_price_increase.py]: Skipped 406 rows due to missing or invalid data.
2025-02-09 03:36:20,012 - INFO - 
Checking which stocks passed the obligatory screens...
2025-02-09 03:36:20,059 - INFO - [obligatory_screen_passer.py]: Processing 5 CSV files:
2025-02-09 03:36:20,060 - INFO - [obligatory_screen_passer.py]: - above_52week_low.csv
2025-02-09 03:36:20,060 - INFO - [obligatory_screen_passer.py]: - close_to_52week_high.csv
2025-02-09 03:36:20,060 - INFO - [obligatory_screen_passer.py]: - minimum_price_increase.csv
2025-02-09 03:36:20,060 - INFO - [obligatory_screen_passer.py]: - minimum_volume_100k.csv
2025-02-09 03:36:20,060 - INFO - [obligatory_screen_passer.py]: - trending_up_stocks.csv
2025-02-09 03:36:20,061 - INFO - [obligatory_screen_passer.py]: 
2025-02-09 03:36:20,061 - INFO - [obligatory_screen_passer.py]: Found 149 stocks that passed all available screens
2025-02-09 03:36:20,061 - INFO - [obligatory_screen_passer.py]: Results saved to obligatory_passed_stocks.csv
2025-02-09 03:36:20,066 - INFO - 
Checking which files are banned, creating unbanned stocks list...
2025-02-09 03:36:20,103 - INFO - [banned_filter.py]: Creating new empty stocks_not_banned.csv file...
2025-02-09 03:36:20,108 - INFO - [banned_filter.py]: Checking 149 symbols for ban. 69 symbols are allowed.
2025-02-09 03:36:20,108 - INFO - [banned_filter.py]: Removed 0 expired bans.
2025-02-09 03:36:20,114 - INFO - 
Running the filter for passed and unbanned stocks...
2025-02-09 03:36:20,156 - INFO - [obligatory_screen_data_filter.py]: Filtered data has been written to <_io.TextIOWrapper name='./ranking_screens/passed_stocks_input_data/filtered_annual_fundamental_data_2years.csv' mode='w' encoding='cp1252'>
2025-02-09 03:36:20,197 - INFO - [obligatory_screen_data_filter.py]: Filtered data has been written to <_io.TextIOWrapper name='./ranking_screens/passed_stocks_input_data/filtered_quarterly_fundamental_data_2years.csv' mode='w' encoding='cp1252'>
2025-02-09 03:36:23,221 - INFO - [obligatory_screen_data_filter.py]: Filtered data has been written to <_io.TextIOWrapper name='./ranking_screens/passed_stocks_input_data/filtered_price_data.csv' mode='w' encoding='cp1252'>
2025-02-09 03:36:23,232 - INFO - 
Running ranking screen scripts...
2025-02-09 03:36:23,529 - INFO - [volume_acceleration.py]: Volume Acceleration Analysis complete. 27 Results saved to ./ranking_screens/results/volume_acceleration_stocks.csv
2025-02-09 03:36:23,712 - INFO - [annual_sales_acceleration.py]: 0 stocks with annual Revenue acceleration >= 10% saved to ./ranking_screens/results/annual_sales_acceleration_stocks.csv
2025-02-09 03:36:23,771 - INFO - [quarterly_EPS_acceleration.py]: 21 stocks with quarterly EPS acceleration >= 20% saved to ./ranking_screens/results/quarterly_EPS_acceleration_stocks.csv
2025-02-09 03:36:23,771 - INFO - [quarterly_eps_breakout.py]: 6 stocks with EPS breakout >= 50% over trend saved to ./ranking_screens/results/eps_breakout_stocks.csv
2025-02-09 03:36:23,784 - INFO - [annual_margin_acceleration.py]: 1 stocks with annual Net profit margin acceleration >= 20% saved to ./ranking_screens/results/annual_margin_acceleration_stocks.csv
2025-02-09 03:36:23,790 - INFO - [annual_EPS_acceleration.py]: 1 stocks with annual EPS acceleration >= 20% saved to ./ranking_screens/results/annual_EPS_acceleration_stocks.csv
2025-02-09 03:36:23,797 - INFO - [quarterly_margin_acceleration.py]: 14 stocks with quarterly Net profit margin acceleration >= 20% saved to ./ranking_screens/results/quarterly_margin_acceleration_stocks.csv
2025-02-09 03:36:23,808 - ERROR - [top_price_increases_1y.py ERROR]: C:\Users\Victus\PycharmProjects\Stocks_Screener_V2\flask_microservice_stocks_filterer\stocks_filtering_application\ranking_screens\top_price_increases_1y.py:16: DeprecationWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
2025-02-09 03:36:23,808 - ERROR - [top_price_increases_1y.py ERROR]: price_increases = df.groupby('Symbol').apply(calculate_price_increase)
2025-02-09 03:36:23,813 - INFO - [top_price_increases_1y.py]: Top 100 stocks by price increase have been saved to ./ranking_screens/results/top_price_increase_1y.csv
2025-02-09 03:36:23,822 - INFO - [quarterly_sales_acceleration.py]: 15 stocks with quarterly Revenue acceleration >= 10% saved to ./ranking_screens/results/quarterly_sales_acceleration_stocks.csv
2025-02-09 03:36:23,822 - INFO - [quarterly_sales_acceleration.py]: Average number of data points per stock: 4.00
2025-02-09 03:36:23,919 - ERROR - [rs_over_70.py ERROR]: C:\Users\Victus\PycharmProjects\Stocks_Screener_V2\flask_microservice_stocks_filterer\stocks_filtering_application\ranking_screens\rs_over_70.py:27: DeprecationWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
2025-02-09 03:36:23,919 - ERROR - [rs_over_70.py ERROR]: rsi_df = df.groupby('Symbol').apply(calculate_group_rsi).reset_index()
2025-02-09 03:36:23,923 - INFO - [rs_over_70.py]: Saved 11 stocks with 14-day RSI > 70 to './ranking_screens/results/rs_over_70.csv'
2025-02-09 03:36:23,924 - INFO - [price_spikes.py]: Analysis complete. Results saved to ./ranking_screens/results/price_spikes.csv
2025-02-09 03:36:23,968 - INFO - [rsi_trending_up.py]: Saved 11 stocks whose RSI has been trending up for at least 1 month to './ranking_screens/results/rsi_trending_up_stocks.csv'
2025-02-09 03:36:24,027 - INFO - 
Searching for the top 100 stocks...
2025-02-09 03:36:24,067 - INFO - [top_n_stocks_by_price_increase.py]: Warning: File 'annual_sales_acceleration_stocks.csv' has an invalid header. Skipping.
2025-02-09 03:36:24,067 - INFO - [top_n_stocks_by_price_increase.py]: 'stocks_ranking_by_price.csv' has been created.
2025-02-09 03:36:24,073 - INFO - 
Running market sentiment screen scripts...
2025-02-09 03:36:27,533 - INFO - [52week_low_1d.py]: Error processing row 328949: Missing 'Low' or 'Symbol' value
2025-02-09 03:36:27,723 - INFO - [52week_high_1d.py]: Error processing row 328949: Missing 'High' or 'Symbol' value
2025-02-09 03:36:40,547 - INFO - [52week_low_2w.py]: Saved 1072 symbols to ./market_sentiment_screens/results/52week_low_2_weeks.csv
2025-02-09 03:36:40,905 - INFO - [52week_high_2w.py]: Saved 2238 symbols to ./market_sentiment_screens/results/52week_high_2_weeks.csv
2025-02-09 03:36:42,962 - ERROR - [rsi_under_30.py ERROR]: C:\Users\Victus\PycharmProjects\Stocks_Screener_V2\flask_microservice_stocks_filterer\stocks_filtering_application\market_sentiment_screens\rsi_under_30.py:26: DeprecationWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
2025-02-09 03:36:42,963 - ERROR - [rsi_under_30.py ERROR]: rsi_df = df.groupby('Symbol').apply(calculate_group_rsi).reset_index()
2025-02-09 03:36:42,973 - INFO - [rsi_under_30.py]: Saved 300 stocks with 14-day RSI < 30 to './market_sentiment_screens/results/rsi_under_30.csv'
2025-02-09 03:36:43,017 - ERROR - [rs_over_70.py ERROR]: C:\Users\Victus\PycharmProjects\Stocks_Screener_V2\flask_microservice_stocks_filterer\stocks_filtering_application\market_sentiment_screens\rs_over_70.py:27: DeprecationWarning: DataFrameGroupBy.apply operated on the grouping columns. This behavior is deprecated, and in a future version of pandas the grouping columns will be excluded from the operation. Either pass `include_groups=False` to exclude the groupings or explicitly select the grouping columns after groupby to silence this warning.
2025-02-09 03:36:43,017 - ERROR - [rs_over_70.py ERROR]: rsi_df = df.groupby('Symbol').apply(calculate_group_rsi).reset_index()
2025-02-09 03:36:43,028 - INFO - [rs_over_70.py]: Saved 532 stocks with 14-day RSI > 70 to './ranking_screens/results/high_rsi_stocks_with_rsi.csv'
2025-02-09 03:36:53,069 - INFO - [rsi_trending_up.py]: Saved 2169 stocks whose RSI has been trending up for at least 1 month to './ranking_screens/results/rsi_trending_up_stocks.csv'
2025-02-09 03:36:53,125 - INFO - [rsi_trending_down.py]: Saved 2456 stocks whose RSI has been trending down for at least 1 month to './ranking_screens/results/rsi_trending_down_stocks.csv'
2025-02-09 03:36:59,825 - INFO - [52week_high_1d.py]: New 52-week-high analysis complete. 966 stocks hit 52-week high in the last trading day.
2025-02-09 03:36:59,825 - INFO - [52week_high_1d.py]: Skipped 1 rows due to missing or invalid data.
2025-02-09 03:37:00,100 - INFO - [52week_low_1d.py]: New 52-week-low analysis complete. 675 stocks hit 52-week low in the last trading day.
2025-02-09 03:37:00,100 - INFO - [52week_low_1d.py]: Skipped 1 rows due to missing or invalid data.
2025-02-09 03:37:00,331 - INFO - 
Running history handler script...
2025-02-09 03:37:02,714 - INFO - [history_handler.py]: Data for 2025-02-09 already exists in the history file. No changes made.
2025-02-09 03:37:02,792 - INFO - 
All scripts completed.
2025-02-09 03:37:02,794 - INFO - Checking if computer should be put to sleep...
2025-02-09 03:37:02,794 - INFO - Args: Namespace(price_increase=200.0, ranking_method='price', fetch_data=False, top_n=100, sleep_after=False, obligatory_screens=['above_52week_low', 'trending_up', 'close_to_52week_high', 'minimum_volume_100k', 'minimum_price_increase'], ranking_screens=['annual_EPS_acceleration', 'annual_margin_acceleration', 'annual_sales_acceleration', 'quarterly_EPS_acceleration', 'quarterly_eps_breakout', 'quarterly_margin_acceleration', 'quarterly_sales_acceleration', 'rs_over_70', 'rsi_trending_up', 'volume_acceleration', 'price_spikes', 'top_price_increases_1y'], skip_obligatory=False, skip_sentiment=False)
